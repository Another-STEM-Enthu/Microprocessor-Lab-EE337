C51 COMPILER V9.60.7.0   STOPWATCH                                                         03/14/2023 15:19:44 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE STOPWATCH
OBJECT MODULE PLACED IN .\Objects\StopWatch.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE StopWatch.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings
                    -\StopWatch.lst) TABS(2) OBJECT(.\Objects\StopWatch.obj)

line level    source

   1          #include <at89c5131.h>
   2          #include "lcd.h"
   3          
   4          sbit inpin=P3^4;
   5          
   6          
   7          
   8          
   9          //Main function
  10          void main(void)
  11          { 
  12   1        int i = 0;
  13   1        int k = 0;
  14   1        unsigned int min = 0;
  15   1        unsigned int sec = 0;
  16   1        int showit[4] = {0,0,0,0};
  17   1          
  18   1        P1_0 = 1;
  19   1        lcd_init();
  20   1        msdelay(4);
  21   1        
  22   1        TMOD = 0x05; //mode 1 timer 0 and for timer 1
  23   1      
  24   1        
  25   1        TH0 = 0x00;  //Values for Timer 0 TH0
  26   1        TL0 = 0x00;  //Values for Timer 0 TL0
  27   1      
  28   1        while(1){
  29   2          if(P1_0 == 1){
  30   3            TR0 = 1;
  31   3            goto outt;
  32   3          }
  33   2        }
  34   1      
  35   1        outt: while(1){
  36   2          if(P1_0 == 0){
  37   3            TR0 = 0;
  38   3            goto display;
  39   3          }
  40   2        }
  41   1        display: sec = (TH0*256 + TL0)/(10*6); 
  42   1        min = sec / 60;
  43   1        sec = sec % 60;
  44   1        i = sec;
  45   1        while(i>0){
  46   2        showit[k]=i%10;
  47   2        i=i/10;
  48   2        k++;
  49   2        }
  50   1        
  51   1        if(k == 1){
  52   2          k++;
  53   2        }
  54   1        
C51 COMPILER V9.60.7.0   STOPWATCH                                                         03/14/2023 15:19:44 PAGE 2   

  55   1        i = min;
  56   1        while(i>0){
  57   2        showit[k]=i%10;
  58   2        i=i/10;
  59   2        k++;
  60   2        } 
  61   1        
  62   1        k--;
  63   1        for (i=3;i>=2;i--){
  64   2          lcd_write_char(showit[i] + 48);
  65   2          msdelay(10);
  66   2        }
  67   1        lcd_write_char(':');
  68   1        for (i=1;i>=0;i--){
  69   2          lcd_write_char(showit[i] + 48);
  70   2          msdelay(10);
  71   2        }
  72   1        
  73   1        while(1);
  74   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    521    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      19
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
